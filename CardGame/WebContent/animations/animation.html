<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
		<script type="text/javascript">
		var canvas;
		var ctx;
		 
		var background;
		var width = 300;
		var height = 200;
		 function initCanvas(canvas) {
		        if (typeof FlashCanvas != "undefined") {
		          FlashCanvas.initElement(canvas);
		        }
		        return canvas;
		      }
		      
					window.onload = function(){
				  	var canvas = initCanvas(document.getElementById("test-canvas")),
						    ctx = canvas.getContext('2d');
						
				  	ctx.font = "3em Optimer";
		        ctx.textAlign = 'center';

				  	var i, n = 0, 
		            components = [0, 0, 0], 
		            operations = [1, 2, 3];
		            
				  	function draw(){
		          ctx.clearRect(0, 0, 500, 300);
		          ctx.fillStyle = "rgb("+components.join(',')+")";
		          ctx.textBaseline = 'top';
		          
		          // Jumping text
		          ctx.save();
		            ctx.translate(250, 0);
		  		  		ctx.fillText('Lorem ipsum dolor sit amet', 0, components[1]);
		          ctx.restore();
		          
		          // Rotating text
		          ctx.save();
		            ctx.translate(250, 150);
		            ctx.rotate(0.01*n++);
		            ctx.fillStyle = '#000';
		            ctx.textBaseline = 'middle';
		            ctx.fillText('Lorem ipsum dolor sit amet', 0, 0);
		          ctx.restore();
		          
		          for(i = 0; i < 3; i++) {
		            components[i] += operations[i];
		            if ((components[i] >= 256) || (components[i] <= 0)) operations[i] *= -1;
		          }
		          
							/*if (n < 1000)*/ setTimeout(draw, 10);
				  	}
				    draw();
					}

		var cloud;
		var cloud_x;
		 
		function init() {
			canvas = document.getElementById("cloud_demo_canvas");
			width = "600";
			height = "400";
			ctx = canvas.getContext("2d");
		 
			// init background 
			background = new Image();
			background.src = 'http://silveiraneto.net/wp-content/uploads/2011/06/forest.png';
		 
			// init cloud
			cloud = new Image();
			cloud.src = 'http://silveiraneto.net/wp-content/uploads/2011/06/cloud.png';
			cloud.onload = function(){
				cloud_x = -cloud.width;
			};
		 
			return setInterval(main_loop, 10);
		}
		 
		function update(){
			cloud_x += 0.3;
			if (cloud_x > width ) {
				cloud_x = -cloud.width;
			}
		}
		 
		function draw() {
			ctx.drawImage(background,0,0);
			ctx.drawImage(cloud, cloud_x, 0);
		}
		 
		function main_loop() {
			draw();
			update();
		}
		
		window.onload = function(){
			
		init();
		}
		 
		
		</script>
	</head>
	<body>
		<canvas id="cloud_demo_canvas" width="640" height="480">Brain Trainer</canvas>
		
	</body>
</html>